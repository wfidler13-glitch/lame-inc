<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DO NOT TRANSLATE</title>
    <!-- Load Tailwind CSS for utility classes -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@900&display=swap');
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #111827; /* Dark charcoal background */
            color: #f3f4f6; /* Light gray text */
        }
        .puzzle-container {
            position: relative;
            /* Defines the size of the circular area for the images */
            width: 80vmin; 
            height: 80vmin;
            max-width: 500px;
            max-height: 500px;
        }
        .animal-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-origin: 0 100%; /* Pivot point for circular rotation */
            width: 60px; /* Size of the image/icon container */
            height: 60px;
            margin-left: -30px; /* Center horizontally */
            margin-top: -30px; /* Center vertically (adjusted in JS) */
            cursor: pointer;
            transition: transform 0.15s ease-out;
        }
        .animal-icon:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
        }
        .animal-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            user-select: none;
            -webkit-user-drag: none;
        }
    </style>
</head>
<body class="select-none">

    <div id="app" class="min-h-screen flex flex-col items-center justify-center p-4">
        
        <!-- Main Instructions -->
        <div class="text-center mb-16">
            <h1 class="text-4xl sm:text-6xl font-extrabold tracking-widest uppercase mb-4 text-red-500">
                DO NOT TRANSLATE
            </h1>
            <p class="text-2xl sm:text-4xl font-black text-white" style="letter-spacing: 0.1em;">
                不要点击红龙
            </p>
        </div>

        <!-- Zodiac Circle Puzzle Container -->
        <div id="puzzle-container" class="puzzle-container">
            <!-- Icons will be generated by JavaScript -->
        </div>

    </div>

    <script>
        // --- Configuration ---
        const SUCCESS_URL = "https://lameincorporated.com/donotcompletethisform";
        const WRONG_IMAGE_FOLDER = "./BUYAOimgs/"; // Base path to your images
        
        // List of animals in the required circular order, and their corresponding image files.
        // NOTE: The value in the array is the image filename stem.
        const animals = [
            { name: 'rat', file: 'buyaorat.png', isTarget: false },
            { name: 'ox', file: 'buyaoox.png', isTarget: false },
            { name: 'tiger', file: 'buyaotiger.png', isTarget: false },
            { name: 'rabbit', file: 'buyaorabbit.png', isTarget: false },
            { name: 'dragon', file: 'buyaodragon.png', isTarget: true }, // The correct one!
            { name: 'snake', file: 'buyaosnake.png', isTarget: false },
            { name: 'horse', file: 'buyaohorse.png', isTarget: false },
            { name: 'goat', file: 'buyaogoat.png', isTarget: false },
            { name: 'monkey', file: 'buyaomonkey.png', isTarget: false },
            { name: 'rooster', file: 'buyaorooster.png', isTarget: false },
            { name: 'dog', file: 'buyaodog.png', isTarget: false },
            { name: 'pig', file: 'buyaopig.png', isTarget: false },
        ];

        // --- Core Functions ---

        /**
         * Closes the window/tab with a fallback, as direct window.close() often fails.
         */
        function closeWindow() {
            try {
                // Try to close the current window/tab
                window.open('', '_self').close();
            } catch (e) {
                // If the browser prevents closing, redirect to a blank page or error state
                document.body.innerHTML = '<div class="min-h-screen flex items-center justify-center text-4xl text-red-700">ACCESS DENIED.</div>';
                console.error("Could not close window automatically. Redirecting to black screen.");
            }
        }

        /**
         * Handles the click on any of the animal icons.
         * @param {boolean} isTarget - True if the clicked animal is the dragon.
         */
        function handleIconClick(isTarget) {
            // Disable all clicks immediately to prevent double-clicking
            document.querySelectorAll('.animal-icon').forEach(icon => {
                icon.style.pointerEvents = 'none';
            });

            if (isTarget) {
                // Success: Redirect to the next step immediately
                window.location.href = SUCCESS_URL;
            } else {
                // Failure: Close the window
                document.getElementById('puzzle-container').innerHTML = '<p class="text-red-500 text-3xl mt-20">THANK YOU.</p>';
                setTimeout(closeWindow, 1000);
            }
        }

        /**
         * Renders the zodiac icons in a circle.
         */
        function renderPuzzle() {
            const container = document.getElementById('puzzle-container');
            const numAnimals = animals.length;
            const angleStep = 360 / numAnimals;
            const radius = container.clientWidth / 2; // Use half the container width as radius
            
            // Adjust icon size for mobile view
            const iconSize = window.innerWidth < 640 ? 40 : 60; // 40px on small screens, 60px otherwise

            animals.forEach((animal, index) => {
                const angle = index * angleStep;
                const radians = angle * (Math.PI / 180);
                
                // Calculate position on the circle (start from top and move clockwise)
                const x = radius * Math.sin(radians);
                const y = radius * -Math.cos(radians);
                
                // Create the icon container
                const iconDiv = document.createElement('div');
                iconDiv.className = 'animal-icon';
                iconDiv.style.width = `${iconSize}px`;
                iconDiv.style.height = `${iconSize}px`;
                
                // Center the icon container on the calculated point
                iconDiv.style.left = `calc(50% + ${x}px - ${iconSize/2}px)`;
                iconDiv.style.top = `calc(50% + ${y}px - ${iconSize/2}px)`;

                // Add the image
                iconDiv.innerHTML = `<img src="${WRONG_IMAGE_FOLDER}${animal.file}" alt="${animal.name} icon" 
                                        onerror="this.src='https://placehold.co/${iconSize}x${iconSize}/4a4a4a/f3f4f6?text=${animal.name.toUpperCase()}';">`;
                
                // Attach the click handler
                iconDiv.addEventListener('click', () => handleIconClick(animal.isTarget));
                
                container.appendChild(iconDiv);
            });
        }

        // Initialize the puzzle when the window loads
        window.addEventListener('load', renderPuzzle);
        // Re-render on resize to maintain circular layout
        window.addEventListener('resize', renderPuzzle);
        
    </script>
</body>
</html>